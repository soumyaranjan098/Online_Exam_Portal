{"ast":null,"code":"var _jsxFileName = \"E:\\\\project\\\\Mern-Quiz-App\\\\client\\\\src\\\\Components\\\\Success.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { Alert } from \"react-bootstrap\";\nimport { useState } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Success = _ref => {\n  _s();\n  let {\n    success,\n    route\n  } = _ref;\n  const navigate = useNavigate();\n  const [show, setShow] = useState(true);\n  const dismissTimeout = 3000;\n  const loginState = useSelector(state => state.loginUserReducer);\n  const {\n    token\n  } = loginState;\n  console.log(token);\n  const [currentUser, setCurrentUser] = useState(null);\n  const fetchUserData = async () => {\n    try {\n      const response = await fetch('/api/user/rootUser', {\n        method: 'GET'\n      });\n      const data = await response.json();\n      setCurrentUser(data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    if (token) {\n      fetchUserData();\n    }\n    const timer = setTimeout(() => {\n      setShow(false);\n    }, dismissTimeout);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [dismissTimeout, token]);\n  setTimeout(() => {\n    if (currentUser == null) {\n      return;\n    } else if (currentUser && currentUser.isAdmin !== undefined && currentUser.isAdmin) {\n      navigate(`/admin/dashboard`);\n    } else {\n      navigate(`/home`);\n    }\n  }, 4000);\n  return /*#__PURE__*/_jsxDEV(Alert, {\n    variant: \"success\",\n    show: show,\n    children: success\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(Success, \"xnkEwdR+IQjP6TMZB7D4KGEsrWA=\", false, function () {\n  return [useNavigate, useSelector];\n});\n_c = Success;\nexport default Success;\nvar _c;\n$RefreshReg$(_c, \"Success\");","map":{"version":3,"names":["React","useEffect","Alert","useState","useNavigate","useSelector","jsxDEV","_jsxDEV","Success","_ref","_s","success","route","navigate","show","setShow","dismissTimeout","loginState","state","loginUserReducer","token","console","log","currentUser","setCurrentUser","fetchUserData","response","fetch","method","data","json","error","timer","setTimeout","clearTimeout","isAdmin","undefined","variant","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/project/Mern-Quiz-App/client/src/Components/Success.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { Alert } from \"react-bootstrap\";\r\nimport { useState } from \"react\";\r\nimport {useNavigate} from 'react-router-dom';\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Success = ({ success,route }) => {\r\n  \r\n  const navigate = useNavigate();\r\n  const [show, setShow] = useState(true);\r\n  const dismissTimeout = 3000;\r\n\r\n  const loginState = useSelector((state) => state.loginUserReducer);\r\n  const { token } = loginState;\r\n  console.log(token);\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n\r\n  const fetchUserData = async () => {\r\n    try {\r\n      const response = await fetch('/api/user/rootUser', {\r\n        method: 'GET',\r\n      });\r\n      const data = await response.json();\r\n      setCurrentUser(data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      fetchUserData();\r\n    }\r\n    const timer = setTimeout(() => {\r\n      setShow(false);\r\n    }, dismissTimeout);\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [dismissTimeout,token]);\r\n\r\n    setTimeout(()=>{\r\n      if(currentUser==null){\r\n        return\r\n      }else if(currentUser && currentUser.isAdmin !== undefined && currentUser.isAdmin){\r\n        navigate(`/admin/dashboard`)\r\n      }else{\r\n        navigate(`/home`)\r\n      }\r\n      \r\n  },4000)\r\n  \r\n  return (\r\n    <Alert variant=\"success\" show={show}>\r\n      {success}\r\n    </Alert>\r\n  );\r\n}\r\n\r\n\r\nexport default Success;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,KAAK,QAAQ,iBAAiB;AACvC,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAAQC,WAAW,QAAO,kBAAkB;AAC5C,SAASC,WAAW,QAAQ,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,MAAMC,OAAO,GAAGC,IAAA,IAAuB;EAAAC,EAAA;EAAA,IAAtB;IAAEC,OAAO;IAACC;EAAM,CAAC,GAAAH,IAAA;EAEhC,MAAMI,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACU,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAMa,cAAc,GAAG,IAAI;EAE3B,MAAMC,UAAU,GAAGZ,WAAW,CAAEa,KAAK,IAAKA,KAAK,CAACC,gBAAgB,CAAC;EACjE,MAAM;IAAEC;EAAM,CAAC,GAAGH,UAAU;EAC5BI,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EAClB,MAAM,CAACG,WAAW,EAAEC,cAAc,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EAEpD,MAAMsB,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,oBAAoB,EAAE;QACjDC,MAAM,EAAE;MACV,CAAC,CAAC;MACF,MAAMC,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;MAClCN,cAAc,CAACK,IAAI,CAAC;IACtB,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdV,OAAO,CAACC,GAAG,CAACS,KAAK,CAAC;IACpB;EACF,CAAC;EAID9B,SAAS,CAAC,MAAM;IACd,IAAImB,KAAK,EAAE;MACTK,aAAa,CAAC,CAAC;IACjB;IACA,MAAMO,KAAK,GAAGC,UAAU,CAAC,MAAM;MAC7BlB,OAAO,CAAC,KAAK,CAAC;IAChB,CAAC,EAAEC,cAAc,CAAC;IAClB,OAAO,MAAM;MACXkB,YAAY,CAACF,KAAK,CAAC;IACrB,CAAC;EACH,CAAC,EAAE,CAAChB,cAAc,EAACI,KAAK,CAAC,CAAC;EAExBa,UAAU,CAAC,MAAI;IACb,IAAGV,WAAW,IAAE,IAAI,EAAC;MACnB;IACF,CAAC,MAAK,IAAGA,WAAW,IAAIA,WAAW,CAACY,OAAO,KAAKC,SAAS,IAAIb,WAAW,CAACY,OAAO,EAAC;MAC/EtB,QAAQ,CAAE,kBAAiB,CAAC;IAC9B,CAAC,MAAI;MACHA,QAAQ,CAAE,OAAM,CAAC;IACnB;EAEJ,CAAC,EAAC,IAAI,CAAC;EAEP,oBACEN,OAAA,CAACL,KAAK;IAACmC,OAAO,EAAC,SAAS;IAACvB,IAAI,EAAEA,IAAK;IAAAwB,QAAA,EACjC3B;EAAO;IAAA4B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEZ,CAAC;AAAAhC,EAAA,CArDKF,OAAO;EAAA,QAEMJ,WAAW,EAITC,WAAW;AAAA;AAAAsC,EAAA,GAN1BnC,OAAO;AAwDb,eAAeA,OAAO;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}